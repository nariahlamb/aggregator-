port: 7890
socks-port: 7891
allow-lan: false
mode: Rule
log-level: info
external-controller: 127.0.0.1:9090

proxies:

proxy-groups:
# ä¸»è¦ä»£ç†ç»„
- name: PROXY
  type: select
  proxies:
  - AUTO
  - DIRECT
  - US
  - UK
  - JP
  - TW
  - SG
  - HK
  - è´Ÿè½½å‡è¡¡
  - å»¶è¿Ÿä¼˜å…ˆ
  exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

# åœ°åŒºåˆ†ç»„
- name: US
  type: url-test
  hidden: true
  include-all: true
  filter: (?i)ç¾å›½|USA|US|ğŸ‡ºğŸ‡¸
  interval: 300
  tolerance: 50
  url: http://www.gstatic.com/generate_204
  exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

- name: UK
  type: url-test
  hidden: true
  include-all: true
  filter: (?i)è‹±å›½|UK|GB|ğŸ‡¬ğŸ‡§
  interval: 300
  tolerance: 50
  url: http://www.gstatic.com/generate_204
  exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

- name: JP
  type: url-test
  include-all: true
  filter: (?i)æ—¥æœ¬|Japan|JP|ğŸ‡¯ğŸ‡µ
  hidden: true
  interval: 300
  tolerance: 50
  url: http://www.gstatic.com/generate_204
  exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

- name: TW
  type: url-test
  include-all: true
  filter: (?i)å°æ¹¾|Taiwan|TW|ğŸ‡¹ğŸ‡¼
  hidden: true
  interval: 300
  tolerance: 50
  url: http://www.gstatic.com/generate_204
  exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

- name: SG
  type: url-test
  include-all: true
  filter: (?i)æ–°åŠ å¡|Singapore|SG|ğŸ‡¸ğŸ‡¬
  hidden: true
  interval: 300
  tolerance: 50
  url: http://www.gstatic.com/generate_204
  exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

- name: HK
  type: url-test
  include-all: true
  filter: (?i)é¦™æ¸¯|Hong Kong|HK|ğŸ‡­ğŸ‡°
  hidden: true
  interval: 300
  tolerance: 50
  url: http://www.gstatic.com/generate_204
  exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®

# AIå’Œè°·æ­ŒæœåŠ¡åˆ†ç»„
- name: AIGC
  type: select
  proxies:
  - US
  - UK
  - JP
  - TW
  - SG
  - HK
  - AUTO
  - PROXY
  - è´Ÿè½½å‡è¡¡
  - å»¶è¿Ÿä¼˜å…ˆ

- name: Google
  type: select
  proxies:
  - US
  - UK
  - JP
  - TW
  - SG
  - HK
  - AUTO
  - PROXY
  - è´Ÿè½½å‡è¡¡
  - å»¶è¿Ÿä¼˜å…ˆ

# æµåª’ä½“åˆ†ç»„
- name: Streaming
  type: select
  proxies:
  - AUTO
  - PROXY
  - US
  - UK
  - JP
  - TW
  - SG
  - HK
  - è´Ÿè½½å‡è¡¡
  - å»¶è¿Ÿä¼˜å…ˆ

# ç¤¾äº¤åª’ä½“åˆ†ç»„
- name: Social
  type: select
  proxies:
  - AUTO
  - PROXY
  - US
  - UK
  - JP
  - TW
  - SG
  - HK
  - è´Ÿè½½å‡è¡¡
  - å»¶è¿Ÿä¼˜å…ˆ

- name: Microsoft
  type: select
  proxies:
  - DIRECT
  - AUTO
  - PROXY
  - US
  - UK
  - JP
  - TW
  - SG
  - HK
- name: AD
  type: select
  proxies:
  - DIRECT
  - REJECT

# è‡ªåŠ¨é€‰æ‹©åˆ†ç»„
- name: AUTO
  type: url-test
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 50
  include-all: true
  exclude-filter: (?i)GB|Traffic|Expire|Premium|é¢‘é“|è®¢é˜…|ISP|æµé‡|åˆ°æœŸ|é‡ç½®
  hidden: true

# ç­–ç•¥ç»„
- name: è´Ÿè½½å‡è¡¡
  type: load-balance
  strategy: round-robin
  url: http://www.gstatic.com/generate_204
  hidden: true
  interval: 300
  proxies:
  - US
  - UK
  - JP
  - TW
  - SG
  - HK

- name: å»¶è¿Ÿä¼˜å…ˆ
  type: url-test
  url: http://www.gstatic.com/generate_204
  hidden: true
  interval: 300
  tolerance: 50
  proxies:
  - US
  - UK
  - JP
  - SG

- name: æ•…éšœè½¬ç§»
  type: fallback
  url: http://www.gstatic.com/generate_204
  hidden: true
  interval: 300
  proxies:
  - US
  - UK
  - JP
  - SG
  - AUTO
  - è´Ÿè½½å‡è¡¡
  - å»¶è¿Ÿä¼˜å…ˆ

rule-providers:
  # åŸºç¡€è§„åˆ™é›†
  private:
    type: http
    behavior: domain
    url: https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.yaml
    path: ./ruleset/private.yaml
    interval: 86400
  cn_domain:
    type: http
    behavior: domain
    url: https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.yaml
    path: ./ruleset/cn_domain.yaml
    interval: 86400
  geolocation-!cn:
    type: http
    behavior: domain
    url: https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.yaml
    path: ./ruleset/geolocation-!cn.yaml
    interval: 86400
  cn_ip:
    type: http
    behavior: ipcidr
    url: https://ghp.ci/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.yaml
    path: ./ruleset/cn_ip.yaml
    interval: 86400

  # æµåª’ä½“è§„åˆ™é›†
  netflix:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml
    path: ./ruleset/netflix.yaml
    interval: 86400
  youtube:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml
    path: ./ruleset/youtube.yaml
    interval: 86400
  spotify:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.yaml
    path: ./ruleset/spotify.yaml
    interval: 86400

  # ç¤¾äº¤åª’ä½“è§„åˆ™é›†
  telegram:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml
    path: ./ruleset/telegram.yaml
    interval: 86400
  twitter:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Twitter/Twitter.yaml
    path: ./ruleset/twitter.yaml
    interval: 86400
  facebook:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Facebook/Facebook.yaml
    path: ./ruleset/facebook.yaml
    interval: 86400
  instagram:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Instagram/Instagram.yaml
    path: ./ruleset/instagram.yaml
    interval: 86400

  # AIæœåŠ¡è§„åˆ™é›†
  ai_services:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml
    path: ./ruleset/ai_services.yaml
    interval: 86400
  claude:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Claude/Claude.yaml
    path: ./ruleset/claude.yaml
    interval: 86400
  gemini:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Gemini/Gemini.yaml
    path: ./ruleset/gemini.yaml
    interval: 86400
  bard:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BardAI/BardAI.yaml
    path: ./ruleset/bard.yaml
    interval: 86400
  google:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml
    path: ./ruleset/google.yaml
    interval: 86400

  # å¸¸ç”¨è½¯ä»¶è§„åˆ™é›†
  microsoft:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml
    path: ./ruleset/microsoft.yaml
    interval: 86400
  github:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.yaml
    path: ./ruleset/github.yaml
    interval: 86400
  docker:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Docker/Docker.yaml
    path: ./ruleset/docker.yaml
    interval: 86400
  # ä¸‹è½½è§„åˆ™é›†
  download:
    type: http
    behavior: classical
    url: https://ghp.ci/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Download/Download.yaml
    path: ./ruleset/download.yaml
    interval: 86400
  AWAvenue:
    type: http
    behavior: domain
    format: yaml
    path: ./ruleset/AWAvenue-Ads-Rule-Clash.yaml
    url: "https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/main/Filters/AWAvenue-Ads-Rule-Clash.yaml"
    interval: 86400

rules:
- DOMAIN-SUFFIX,crxsoso.com,PROXY
- PROCESS-NAME,DeadLink,PROXY
- DOMAIN-SUFFIX,52pokemon.cc,PROXY
- DOMAIN-SUFFIX,serv00.net,AIGC
- PROCESS-NAME,msedge,AIGC
- DOMAIN-SUFFIX,linux.do,PROXY
- PROCESS-NAME,docker,PROXY
- PROCESS-NAME,Cherry Studio,AIGC
- PROCESS-NAME,Cursor,AIGC
- DOMAIN-SUFFIX,423down.com,PROXY
- DOMAIN-SUFFIX,grempt.com,PROXY
- DOMAIN-SUFFIX,subsub123456789.com,PROXY
- PROCESS-NAME,SydneyQt-windows-amd64,AIGC
- PROCESS-NAME,PalmInputConfig,AD
- RULE-SET,AWAvenue,AD
- PROCESS-NAME,PalmInputService,AD

# ç›´è¿è§„åˆ™
- RULE-SET,private,DIRECT
- RULE-SET,cn_domain,DIRECT
- RULE-SET,cn_ip,DIRECT
- RULE-SET,download,DIRECT

# AIå’Œè°·æ­ŒæœåŠ¡è§„åˆ™
- RULE-SET,ai_services,AIGC
- RULE-SET,claude,AIGC
- RULE-SET,gemini,AIGC
- RULE-SET,bard,AIGC
- RULE-SET,google,Google

# æµåª’ä½“è§„åˆ™
- RULE-SET,netflix,Streaming
- RULE-SET,youtube,Streaming
- RULE-SET,spotify,Streaming

# ç¤¾äº¤åª’ä½“è§„åˆ™
- RULE-SET,telegram,Social
- RULE-SET,twitter,Social
- RULE-SET,facebook,Social
- RULE-SET,instagram,Social

# è½¯ä»¶è§„åˆ™
- RULE-SET,microsoft,Microsoft
- RULE-SET,github,PROXY
- RULE-SET,docker,PROXY

# å¼€å‘ç›¸å…³åŸŸåè§„åˆ™
- DOMAIN-SUFFIX,github.com,PROXY
- DOMAIN-SUFFIX,githubusercontent.com,PROXY
- DOMAIN-SUFFIX,ghcr.io,PROXY
- DOMAIN-SUFFIX,pkg.github.com,PROXY
- DOMAIN-SUFFIX,docker.io,PROXY
- DOMAIN-SUFFIX,docker.com,PROXY
- DOMAIN-SUFFIX,dockerhub.com,PROXY
- DOMAIN-SUFFIX,registry.docker-cn.com,PROXY
- DOMAIN-SUFFIX,hub.docker.com,PROXY
- DOMAIN-SUFFIX,gcr.io,PROXY
- DOMAIN-SUFFIX,k8s.gcr.io,PROXY
- DOMAIN-KEYWORD,github,PROXY
- DOMAIN-KEYWORD,docker,PROXY

# AIç›¸å…³åŸŸåè§„åˆ™
- DOMAIN-SUFFIX,sealos.io,AIGC
- DOMAIN-SUFFIX,chatgpt.com,AIGC
- DOMAIN-SUFFIX,anthropic.com,AIGC
- DOMAIN-SUFFIX,claude.ai,AIGC
- DOMAIN-SUFFIX,gemini.google.com,AIGC
- DOMAIN-SUFFIX,bard.google.com,AIGC
- DOMAIN-SUFFIX,deepmind.com,AIGC
- DOMAIN-SUFFIX,openai.com,AIGC
- DOMAIN-SUFFIX,chat.openai.com,AIGC
- DOMAIN-SUFFIX,ai.com,AIGC
- DOMAIN-SUFFIX,auth0.com,AIGC
- DOMAIN-SUFFIX,challenges.cloudflare.com,AIGC
- DOMAIN-SUFFIX,client-api.arkoselabs.com,AIGC
- DOMAIN-SUFFIX,events.statsigapi.net,AIGC
- DOMAIN-SUFFIX,featuregates.org,AIGC
- DOMAIN-SUFFIX,identrust.com,AIGC
- DOMAIN-SUFFIX,intercom.io,AIGC
- DOMAIN-SUFFIX,intercomcdn.com,AIGC
- DOMAIN-SUFFIX,poe.com,AIGC
- DOMAIN-SUFFIX,sentry.io,AIGC
- DOMAIN-SUFFIX,stripe.com,AIGC
- DOMAIN-KEYWORD,openai,AIGC
- DOMAIN-KEYWORD,anthropic,AIGC

# å…¨å±€è§„åˆ™
- GEOIP,CN,DIRECT
- RULE-SET,geolocation-!cn,PROXY
- MATCH,æ•…éšœè½¬ç§»
